<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ClientCharmingPointDAO">
	<resultMap type="clientcharmingPoint" id="clientcharmingPointAndCmpName">
		<id property="clientCharmingPointIdx" column="clientCharmingPointIdx" />
		<result property="clientIdx" column="clientIdx" />
		<result property="charmingPointIdx" column="charmingPointIdx" />
		<association property="charmingPoint" column="charmingPointIdx"
			javaType="charmingPoint">
			<id property="charmingPointIdx" column="charmingPointIdx" />
			<result property="charmingPointName" column="charmingPointName" />
		</association>
	</resultMap>
	<insert id="insertClientCharmingPoint" parameterType="clientcharmingPoint">
		INSERT INTO clientCharmingPoint VALUES(clientCharmingPoint_seq.nextVal,#{clientIdx},#{charmingPointIdx})
	</insert>
	
	
	<!-- 회원 관심사 delete -->
	<delete id="deleteClientCharmingPoint" parameterType="clientcharmingPoint">
		DELETE FROM clientCharmingPoint WHERE clientIdx=#{clientIdx}
	</delete>
	
	<!-- 회원이 선택한 관심사리스트 출력 -->
	<select id="getClientCharmingPointList" parameterType="clientcharmingPoint" resultMap="clientcharmingPointAndCmpName">
		select a.charmingPointIdx,b.charmingPointName from clientCharmingPoint a,charmingPoint b where a.clientIdx=#{clientIdx} and a.CHARMINGPOINTIDX=b.charmingPointIdx
	</select>
</mapper>